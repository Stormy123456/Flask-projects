<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
    <!-- Nucleo Icons -->
    <link href="static/css/nucleo-icons.css" rel="stylesheet" />
    <link href="static/css/nucleo-svg.css" rel="stylesheet" />
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/js/all.min.js"
        integrity="sha512-6sSYJqDreZRZGkJ3b+YfdhB3MzmuP9R7X1QZ6g5aIXhRvR1Y/N/P47jmnkENm7YL3oqsmI6AK+V6AD99uWDnIw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="static/css/nucleo-svg.css" rel="stylesheet" />
    <!-- CSS Files -->
    <link id="pagestyle" href="static/css/argon-dashboard.css?v=2.0.4" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma/bulma.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
</head>

<body class="">

    <main class="main-content  mt-0">
        <section>
            <div class="page-header min-vh-100">
                <div class="container">
                    <div class="row d-flex justify-content-center">
                        <div class="col-xl-4 col-lg-5 col-md-7 shadow-lg" style="border-radius: 18px !important;">
                            <div class="card card-plain">
                                <div class="card-header text-center mt-3">
                                    <img src="static/images/logo_tg.png" class="h-100" style="width: 70%;"
                                        alt="main_logo">
                                </div>
                                <div class="card-body">
                                    <form role="form" action="{{ url_for('login') }}" class="needs-validation"
                                        novalidate method="POST">
                                        <div class="mb-3">
                                            <input type="text" class="form-control form-control-lg" name="employee_code"
                                                id="employee_code" placeholder="รหัสพนักงาน" aria-label="employee_code"
                                                required>
                                        </div>
                                        <div class="mb-3">
                                            <div class="mb-3 input-group">
                                                <input type="password" class="form-control form-control-lg"
                                                    name="password" id="password" placeholder="รหัสผ่าน"
                                                    aria-label="Password" required>
                                                <span class="input-group-text" id="togglePassword"
                                                    style="cursor: pointer;">
                                                    <i class="fas fa-eye text-muted"></i>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-end mt-3">
                                            <a href="reset-password" class="text-muted"
                                                style="font-size: 14px; font-weight: bold;">ลืมรหัสผ่านใช่หรือไม่</a>
                                        </div>
                                        <div class="text-center">
                                            <button type="submit"
                                                class="btn btn-lg btn-primary btn-lg w-100 mt-3 mb-0">Sign in</button>
                                            <!-- <input class="btn btn-lg btn-primary btn-lg w-100 mt-3 mb-0" name="submit" type="submit" value="Sign in" /> -->
                                        </div>
                                    </form>

                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </section>
    </main>
    <!-- <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <h2 class="text-center mt-5">Login</h2>
                <form action="{{ url_for('login') }}" method="post">
                    <div class="form-group">
                        <label for="employee_code">Employee Code</label>
                        <input type="text" class="form-control" id="employee_code" name="employee_code" placeholder="Enter your employee code" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" class="form-control" id="password" name="password" placeholder="Enter your password" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">Login</button>
                </form>
                {% with messages = get_flashed_messages() %}
                    {% if messages %}
                        <div class="alert alert-danger mt-3" role="alert">
                            {% for message in messages %}
                                <p>{{ message }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                {% endwith %}
            </div>
        </div>
    </div> -->
    <script src="static/js/core/popper.min.js"></script>
    <script src="static/js/core/bootstrap.min.js"></script>
    <script src="static/js/plugins/perfect-scrollbar.min.js"></script>
    <script src="static/js/plugins/smooth-scrollbar.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script src="static/js/argon-dashboard.min.js?v=2.0.4"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
   
    {% if success_message %}
    <script>
        $(document).ready(function() {
            toastr.options.closeButton = true;
            toastr.options.closeHtml = '<button class="closebtn"><i class="bi bi-x"></i></button>';
            toastr.success('{{ success_message }}', 'Success');

            setTimeout(function() {
                window.location.href = '{{ redirect_url }}';
            }, 3000);
        });
    </script>
    {% endif %}

    {% if error_message %}
    <script>
        $(document).ready(function() {
            toastr.options.closeButton = true;
            toastr.options.closeHtml = '<button class="closebtn"><i class="bi bi-x"></i></button>';
            toastr.error('{{ error_message }}', 'Error');
        });
    </script>
    {% endif %}
</body>

</html>